<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu & Ordering | Siva Handlowy</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="menu.css">
</head>
<body>


    <section class="hero-slider">
        <div class="myslide active">
            <div class="overlay"></div>
            <img src="https://images.pexels.com/photos/958545/pexels-photo-958545.jpeg" alt="Banner">
            <div class="hero-text">
                <h1>Mealz Catering</h1>
                <p>Professional food services for every occasion.</p>
            </div>
        </div>
    </section>

    <div class="floating-cart" onclick="scrollToOrder()">
        <i class="fas fa-shopping-cart"></i>
        <span id="cart-count">0</span>
    </div>

    <main class="menu-container">
        <div class="menu-section-title">
            <h2>Select Your Items</h2>
            <div class="underline"></div>
        </div>

        <div class="menu-category">
            <div class="category-header" onclick="toggleCategory(this)">
                <h3>Tortilla Kebab</h3>
                <span class="plus-icon">+</span>
            </div>
            <div class="category-content">
                <div class="food-grid">
                    <div class="food-item">
                        <div class="food-info">
                            <h4>Kebab z Kurczakiem Mały</h4>
                            <span class="price">18.00 zł</span>
                        </div>
                        <button class="add-to-cart-btn" onclick="addToCart('Kebab Kurczak Mały', 18)">Add +</button>
                    </div>
                    <div class="food-item">
                        <div class="food-info">
                            <h4>Kebab z Kurczakiem Duży</h4>
                            <span class="price">27.00 zł</span>
                        </div>
                        <button class="add-to-cart-btn" onclick="addToCart('Kebab Kurczak Duży', 27)">Add +</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="order-card" id="checkout-section">
            <h3><i class="fas fa-receipt"></i> Your Order Summary</h3>
            <div id="cart-items-list" class="cart-items-list">
                <p class="empty-msg">Your cart is empty.</p>
            </div>
            <div class="total-section">
                <div class="total-label">Total Amount:</div>
                <div class="total-amount" id="grand-total">0.00 zł</div>
            </div>
            <hr class="form-divider">
            <form action="https://formsubmit.co/info.siva.pl@gmail.com" method="POST" id="order-form">
                <input type="hidden" name="_subject" value="New Catering Order - Siva Handlowy">
                <div class="form-grid">
                    <div class="input-box"><label>Name</label><input type="text" name="name" required></div>
                    <div class="input-box"><label>Phone</label><input type="tel" name="phone" required></div>
                    <div class="input-box"><label>City</label><input type="text" name="city" required></div>
                    <div class="input-box"><label>Street & No.</label><input type="text" name="address" required></div>
                </div>
                <div class="input-box" style="margin-top: 20px;">
                    <label>Additional Notes</label>
                    <textarea name="comments" rows="3"></textarea>
                </div>
                <input type="hidden" name="ORDER_DETAILS" id="hidden-items-input">
                <input type="hidden" name="TOTAL_PRICE" id="hidden-total-input">
                <button type="button" onclick="finalizeOrder()" class="submit-btn">Confirm & Send Order</button>
            </form>
        </div>
    </main>

    <footer class="main-footer">
        <div class="footer-grid">
            <div class="footer-about">
                <h4>Siva Handlowy <span class="sp">sp. z o.o.</span></h4>
                <p>Leading the way in European business representation and certification.</p>
            </div>
            <div class="footer-contact">
                <h4>Contact Info</h4>
                <p><i class="fas fa-map-marker-alt"></i> Ściegiennego 41A, Katowice, Poland</p>
                <p><i class="fas fa-envelope"></i> info.siva.pl@gmail.com</p>
                <p><i class="fab fa-whatsapp"></i> +48 512 654 161</p>
            </div>
            <div class="footer-legal">
                <h4>Registration</h4>
                <p>NIP: 634 296 11 19</p>
            </div>
        </div>
        <div class="footer-bottom">
            &copy; 2025 Siva Handlowy. All rights reserved.
        </div>
    </footer>

    <script>
        // NAVIGATION LOGIC
        function openNav() { document.getElementById("mySidebar").style.width = "280px"; }
        function closeNav() { document.getElementById("mySidebar").style.width = "0"; }

        window.onscroll = function() {
            const header = document.querySelector('.main-header');
            if (window.pageYOffset > 50) header.classList.add('scrolled');
            else header.classList.remove('scrolled');
        };

        // CART & MENU LOGIC
        let cart = [];
        function toggleCategory(header) {
            const content = header.nextElementSibling;
            const isOpen = content.style.maxHeight;
            content.style.maxHeight = isOpen ? null : content.scrollHeight + "px";
            header.querySelector('.plus-icon').innerText = isOpen ? "+" : "-";
        }

        function scrollToOrder() { document.getElementById('checkout-section').scrollIntoView({ behavior: 'smooth' }); }

        function addToCart(name, price) {
            const existing = cart.find(item => item.name === name);
            if (existing) { existing.qty++; } else { cart.push({ name, price, qty: 1 }); }
            updateCartUI();
        }

        function updateQty(index, delta) {
            cart[index].qty += delta;
            if (cart[index].qty <= 0) cart.splice(index, 1);
            updateCartUI();
        }

        function updateCartUI() {
            const list = document.getElementById('cart-items-list');
            const totalLabel = document.getElementById('grand-total');
            const cartCount = document.getElementById('cart-count');
            list.innerHTML = "";
            let total = 0, count = 0;
            cart.forEach((item, index) => {
                total += item.price * item.qty;
                count += item.qty;
                list.innerHTML += `<div class="cart-row">
                    <div class="item-info"><span class="item-name">${item.name}</span></div>
                    <div class="qty-controls">
                        <button type="button" onclick="updateQty(${index}, -1)">-</button>
                        <span>${item.qty}</span>
                        <button type="button" onclick="updateQty(${index}, 1)">+</button>
                    </div>
                    <div class="row-total">${(item.price * item.qty).toFixed(2)} zł</div>
                    <i class="fas fa-trash remove-icon" onclick="updateQty(${index}, -999)"></i>
                </div>`;
            });
            if (cart.length === 0) list.innerHTML = '<p class="empty-msg">Your cart is empty.</p>';
            totalLabel.innerText = total.toFixed(2) + " zł";
            cartCount.innerText = count;
            document.getElementById('hidden-total-input').value = total.toFixed(2) + " zł";
        }

        function finalizeOrder() {
            if (cart.length === 0) return alert("Add items first!");
            const summary = cart.map(i => `${i.name} x${i.qty}`).join("\n");
            document.getElementById('hidden-items-input').value = summary;
            document.getElementById('order-form').submit();
        }
    </script>
</body>
</html>